@import '../helpers/settings'
@import '../helpers/mixins'

////////////////////////////////////////
// $Page dashboard
////////////////////////////////////////

//////////////////////////////////////// Block variables


//////////////////////////////////////// Block mixins and functions


//////////////////////////////////////// Block styles
$block: ".boss-page-dashboard"

#{$block}
  +normalize-block()

  padding: 30px 115px 25px
  background-color: white

  &:after
    +clear-fix()

  // $Page dashboard MOD: adjust
  &_adjust
    &_h2
      float: left
      margin-bottom: 15px

  // $Page dashboard MOD: adjust buttons group
  &_adjust_buttons-group
    float: right

  // $Page dashboard MOD: adjust dropdown-button
  &_adjust_dropdown-button
    +clear-fix()

  // $Page dashboard MOD: updated dashboard
  // Temporary modifier for the new pages
  // Will be removed during refactoring
  &_updated
    +box-model-normalizer()
    padding: 0


  // $Page dashboard inner container
  &__inner
    display: block
    width: 100%
    max-width: 1200px
    margin: 0 auto


  // $Page dashboard group
  &__group
    display: flex
    flex-direction: row
    align-items: center
    justify-content: space-between
    width: 100%

    // $Page dashboard group CONTEXT: $Page dashboard group MOD: add staff member page
    #{$block}_page_add-staff-member &
      margin-bottom: 20px

    @media screen and(max-width: 960px)
      flex-direction: column
      justify-content: flex-start

      // $Page dashboard group CONTEXT: $Page dashboard group MOD: profile edit page
      #{$block}_page_profile-edit &:first-of-type
        flex-direction: row
        justify-content: space-between

      #{$block}_page_rotas-daily &:first-of-type
        flex-direction: row
        justify-content: space-between

    @media screen and(max-width: 640px)
      #{$block}_page_rotas-daily &:first-of-type
        flex-direction: column
        justify-content: center

    @media screen and(max-width: 479px)
      #{$block}_page_profile-edit &:first-of-type
        flex-direction: column
        justify-content: center

    &_spaced
      #{$block}_page_add-staff-member &
        padding-left: 45px
        padding-right: 45px

      @media screen and (max-width: 1280px)
        #{$block}_page_add-staff-member &
          padding-left: 20px
          padding-right: 20px

      @media screen and (max-width: 960px)
        #{$block}_page_add-staff-member &
          padding-left: 15px
          padding-right: 15px

      @media screen and (max-width: 479px)
        #{$block}_page_add-staff-member &
          padding-left: 10px
          padding-right: 10px



  // $Page dashboard sub group contain
  &__sub-group
    display: block

    @media screen and(max-width: 960px)
      width: 100%


  // $Page dashboard title
  &__title
    +text-normalizer()

    flex-grow: 0
    display: block
    max-width: 100%
    font-size: 24px
    font-weight: 400
    color: $boss-global-font-color
    margin-bottom: 20px

    @media screen and(max-width: 960px)
      text-align: center


  // $Page dashboard title text
  &__title-text

    // $Page dashboard title text MOD: marked
    &_marked
      font-weight: 600


  // $Page dashboard title info
  &__title-info
    $min-side-size: 50px

    display: inline-block
    min-width: $min-side-size
    margin-left: 18px
    border-radius: 50%
    line-height: $min-side-size
    background-color: map-get($boss-app-palette, primary)
    text-align: center
    color: white
    font-size: 13px
    font-weight: 300


  // $Page dashboard controls group
  &__controls-group
    flex-shrink: 0
    display: flex
    flex-direction: row
    align-items: flex-start
    justify-content: flex-start
    margin-bottom: 25px

    @media screen and(max-width: 960px)
      flex-grow: 1
      flex-shrink: 1
      width: 100%

      #{$block}_page_rotas-daily &
        margin-right: 25px

    @media screen and(max-width: 640px)
      #{$block}_page_rotas-daily &
        margin-right: 0


  // $Page dashboard buttons group
  &__buttons-group
    flex-shrink: 0
    display: flex
    flex-direction: row
    align-items: flex-start
    justify-content: flex-start
    margin-bottom: 25px

    // $Page dashboard buttons group CONTEXT: $Page dashboard group MOD: report page
    #{$block}_page_report &_mobile
      display: none

    // $Page dashboard buttons group CONTEXT: $Page dashboard group MOD: profile page
    // $Page dashboard buttons group CONTEXT: $Page dashboard group MOD: change order form page
    #{$block}_page_profile &,
    #{$block}_page_change-order-form &
      flex-direction: column
      align-items: stretch

    @media screen and(max-width: 960px)
      margin-bottom: 25px

      #{$block}_page_report &_desktop
        display: none

      #{$block}_page_report &_mobile
        display: flex

      #{$block}_page_profile &,
      #{$block}_page_change-order-form &
        flex-direction: row
        align-items: center
        width: 100%

    @media screen and(max-width: 640px)
      #{$block}_page_staff-members-index &,
      #{$block}_page_fruit-order-form &
        flex-direction: column
        justify-content: center
        align-items: stretch

    @media screen and(max-width: 479px)
      #{$block}_page_profile &,
      #{$block}_page_change-order-form &
        flex-direction: column


  // $Page dashboard button
  &__button
    // $Page dashboard button CONTEXT: $Page dashboard group MOD: profile page
    // $Page dashboard button group CONTEXT: $Page dashboard group MOD: change order form page
    #{$block}_page_profile &,
    #{$block}_page_change-order-form &
      margin-bottom: 12px

    // $Page dashboard button CONTEXT: $Page dashboard group MOD: staff members index page
    #{$block}_page_staff-members-index &,
    #{$block}_page_fruit-order-form &
      margin-right: 15px

    @media screen and(max-width: 960px)
      #{$block}_page_profile &,
      #{$block}_page_change-order-form &
        width: 50%
        margin-bottom: 0
        margin-right: 15px

    @media screen and(max-width: 640px)
      #{$block}_page_staff-members-index &,
      #{$block}_page_fruit-order-form &
        margin-right: 0
        margin-bottom: 15px

    @media screen and(max-width: 479px)
      #{$block}_page_profile &,
      #{$block}_page_change-order-form &
        width: 100%
        margin-right: 0
        margin-bottom: 15px

    &:last-of-type

      #{$block}_page_staff-members-index &,
      #{$block}_page_fruit-order-form &
        margin-right: 0

      #{$block}_page_change-order-form &
        margin-bottom: 0

      @media screen and(max-width: 960px)
        #{$block}_page_profile &,
        #{$block}_page_change-order-form &
          margin-right: 0

      @media screen and(max-width: 640px)
        #{$block}_page_staff-members-index &,
        #{$block}_page_fruit-order-form &
          margin-bottom: 0

      @media screen and(max-width: 479px)
        #{$block}_page_profile &,
        #{$block}_page_change-order-form &
          margin-bottom: 0


  // $Page dashboard chart
  &__chart
    min-height: 95px


  // $Page dashboard chart inner container
  &__chart-inner


  // $Page dashboard meta
  &__meta
    flex-grow: 0
    flex-shrink: 1
    position: relative
    display: inline-block
    margin-bottom: 25px

    @media screen and(max-width: 960px)
      text-align: center

      #{$block}_page_holidays-report &
        display: block
        width: 100%


  // $Page dashboard meta item
  &__meta-item
    +text-normalizer()
    display: inline-block
    margin: 0
    padding: 0
    text-decoration: none
    color: $boss-dark-gray
    font-weight: 300
    text-align: center
    vertical-align: middle

    @media screen and(max-width: 479px)
      display: block

    &:not(:last-of-type)
      margin-right: 30px

      @media screen and(max-width: 479px)
        margin-right: 0

    // $Page dashboard meta item MOD: type faded
    &_type_faded
      color: $boss-medium-gray
      font-weight: 400

    // $Page dashboard meta item MOD: role user
    &_role_user
      &:before
        content: ""
        display: inline-block
        width: 16px
        height: 16px
        margin-right: 7px
        background-size: cover
        vertical-align: middle
        background-image: url(../icons/user-verified.svg)

    // $Page dashboard meta item MOD: role date
    &_role_date
      &:before
        content: ""
        display: inline-block
        width: 16px
        height: 16px
        margin-right: 7px
        background-size: cover
        vertical-align: middle
        background-image: url(../icons/icon-calendar-dark-gray.svg)

    &_role_date#{&}_type_faded
      &:before
        background-image: url(../icons/icon-calendar-medium-gray.svg)

    &_role_popover
      cursor: pointer

      &:after
        content: ""
        display: inline-block
        width: 16px
        height: 16px
        margin-left: 7px
        background-size: cover
        vertical-align: middle
        background-image: url(../icons/icon-arrow-down-dark-gray.svg)

    &_role_popover#{&}_state_opened
      &:after
        transform: rotate(-180deg)


  // $Page dashboard meta text
  &__meta-text
    margin: 0
    padding: 0
    display: inline-block
    vertical-align: middle


  // $Page dashboard link
  &__meta-link
    display: inline-block
    color: $boss-dark-gray
    vertical-align: middle
    font-weight: 700
    outline: none
    text-decoration: underline

    &:hover
      color: $boss-dark-gray
      text-decoration: none

    &:focus
      color: $boss-dark-gray

    &:first-of-type
      margin-left: 5px

    &:not(:last-of-type)
      margin-right: 15px

    // $Page dashboard link MOD: role name
    &_role_name
      text-decoration: none


  // $Page dashboard filter
  &__filter
    display: block
    width: 100%
    margin-bottom: 25px


  // $Page dashboard message
  &__message
    display: block
    width: 100%
    margin-bottom: 25px


  // $Page dashboard user summary
  &__user-summary
    display: block
    width: 100%
    margin-bottom: 25px
